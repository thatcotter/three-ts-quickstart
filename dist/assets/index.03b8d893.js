var R=Object.defineProperty;var k=(i,e,t)=>e in i?R(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var a=(i,e,t)=>(k(i,typeof e!="symbol"?e+"":e,t),t);import{S as C,P as G,G as M,T as E,B as F,M as f,a as P,b as U,D as S,A as L,c as V,d as I,R as O,e as j,f as D,g as H,h as N,i as X,j as Y,W as $,k as B,l as q,m as K,V as A,C as Z}from"./vendor.6ff19039.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}};J();var Q=`precision mediump float;

uniform float u_time;

varying vec2 UV;

void main(){
	UV = uv;
	vec4 mvPosition = modelViewMatrix*vec4(position,1.);
	mvPosition.y += sin(u_time / 2. + uv.x) * 2.0;
	mvPosition.x += cos(u_time / 1.3 + uv.y) * 2.0;
	gl_Position = projectionMatrix*mvPosition;
}`,ee=`precision mediump float;

uniform vec2 u_resolution;
uniform float u_time;

varying vec2 UV;

void main(void){
	vec2 position = UV * 2. - 1.;
	
	float red = abs( 
		sin(position.x * position.y + u_time / 5.)
	);
	float green = abs( 
		sin(position.x * position.y + u_time / 4.) 
	);
	float blue = abs( 
		sin(position.x * position.y + u_time / 3.) 
	);

	gl_FragColor=vec4(red, green, blue, 1.0);
}`;class T{constructor(e,t){a(this,"scene");a(this,"camera");a(this,"renderer");a(this,"model");this.scene=new C,this.camera=new G(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=t,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}class te extends T{constructor(e,t){super(e,t);a(this,"group");a(this,"cube");a(this,"plane");a(this,"exampleModel");a(this,"exampleTexture");a(this,"lightAmbient");a(this,"lightPoint");this.exampleModel=new M,this.exampleTexture=new E,this.group=new M,this.scene.add(this.group);const o=new F,n=new f({color:15776699});this.cube=new P(o,n),this.cube.castShadow=!0,this.group.add(this.cube);const s=new U(6,6,10,10),d=new f({color:6710886,side:S,flatShading:!0});this.plane=new P(s,d),this.plane.position.z=-2,this.plane.receiveShadow=!0,this.scene.add(this.plane),this.lightAmbient=new L(3355443),this.scene.add(this.lightAmbient),this.lightPoint=new V(16777215),this.lightPoint.position.set(-.5,.5,4),this.lightPoint.castShadow=!0,this.lightPoint.intensity=.25,this.scene.add(this.lightPoint);const w=1024,c=.5,p=500;this.lightPoint.shadow.mapSize.width=w,this.lightPoint.shadow.mapSize.height=w,this.lightPoint.shadow.camera.near=c,this.lightPoint.shadow.camera.far=p;let x;new I().setPath("../resources/textures/").load("uv_grid_opengl.jpg",m=>{m.wrapS=m.wrapT=O,m.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),this.exampleTexture=m,x=new j({map:m}),this.cube.material=x,new D().setPath("../resources/models/").load("teapot.gltf",W=>{this.exampleModel=W.scene,console.log(this.exampleModel),this.exampleModel.scale.set(.01,.01,.01),this.exampleModel.position.x=2,new f({color:2293538}),this.exampleModel.traverse(g=>{console.log(g),console.log(g.type==="Mesh"),g.type==="Mesh"&&(g.material=x)}),this.group.add(this.exampleModel)})})}update(e){this.cube.rotation.x+=.01,this.cube.rotation.y+=.01,this.group.rotation.set(0,0,this.model.groupAngle),this.group.position.set(this.model.groupX,this.model.groupY,0);const t=this.plane.geometry.attributes.position;for(let o=0;o<t.count;o++)t.setZ(o,Math.sin(e.getElapsedTime()+o-t.count/2)*.5+Math.cos(e.getElapsedTime()-o)*.5);this.plane.geometry.attributes.position.needsUpdate=!0,this.exampleModel!=null&&(this.exampleModel.rotateX(.01),this.exampleModel.rotateY(.01)),this.exampleTexture&&(this.exampleTexture.center.set(.5,.5),this.exampleTexture.rotation+=e.getDelta())}}class ie extends T{constructor(e,t){super(e,t);a(this,"spheres");a(this,"tl");a(this,"lightPoint");a(this,"lightAmbient");this.spheres=[],this.tl=H.timeline();const o=new N(.5),n=new f({color:3329347});for(let c=0;c<10;c++){const p=new P(o,n);this.tl.to(p.position,{x:Math.cos(c/10*Math.PI*2)*3,y:Math.sin(c/10*Math.PI*2)*3,duration:2,ease:"bounce.out"},`${c/4}`),this.tl.fromTo(p.scale,{x:0,y:0},{x:1,y:1,duration:2,ease:"expo.out"},"<"),this.spheres.push(p),this.scene.add(p)}this.lightPoint=new V(13421772),this.lightPoint.intensity=.66,this.lightPoint.position.set(-5,3,4);const s=1024,d=.5,w=500;this.lightPoint.shadow.mapSize.width=s,this.lightPoint.shadow.mapSize.height=s,this.lightPoint.shadow.camera.near=d,this.lightPoint.shadow.camera.far=w,this.scene.add(this.lightPoint),this.lightAmbient=new L(16777215),this.lightAmbient.intensity=.2,this.scene.add(this.lightAmbient)}update(e){}}let r={groupX:0,groupY:0,groupAngle:0,activeView:1,pointerPosition:new A(0,0)},l,b=new Z,v,y,h,u=[],z;function ne(){ae(),oe(),se(),re()}function oe(){v=new X,document.body.appendChild(v.dom)}function se(){const i=new Y;i.add(r,"groupX",-4,4,.1),i.add(r,"groupY",-3,3,.1),i.add(r,"groupAngle",0,Math.PI*2,.1);let e={position:0,play:()=>{h.tl.play()},pause:()=>{h.tl.pause()}};const t=i.addFolder("timeline");t.open(),t.add(e,"position",0,5,.01).onChange(o=>{h.tl.pause(),h.tl.seek(o)}),t.add(e,"play"),t.add(e,"pause")}function ae(){l=new $,l.shadowMap.enabled=!0,l.shadowMap.type=B,l.setPixelRatio(window.devicePixelRatio),l.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(l.domElement),y=new te(r,l),u.push(y),h=new ie(r,l),u.push(h),new q;const i={u_time:{type:"f",value:1},u_resolution:{type:"v2",value:new A(800,800)}};z=new K({uniforms:i,vertexShader:Q,fragmentShader:ee,side:S}),_()}function re(){window.addEventListener("resize",le,!1),window.addEventListener("pointermove",he),window.addEventListener("keydown",i=>{const{key:e}=i;switch(e){case"e":const t=window.open("","Canvas Image"),{domElement:o}=l,n=o.toDataURL();if(!t)return;t.document.write(`<img src='${n}' width='${o.width}' height='${o.height}'>`);break;case"ArrowRight":r.activeView=(r.activeView+1)%u.length;break;case"ArrowLeft":r.activeView=r.activeView-1,r.activeView<0&&(r.activeView=u.length-1);break}})}function le(){y.onWindowResize(),h.onWindowResize()}function he(i){r.pointerPosition.x=i.clientX/window.innerWidth*2-1,r.pointerPosition.y=-(i.clientY/window.innerHeight)*2+1}function _(){requestAnimationFrame(()=>{_()});let i=b.getDelta();switch(z.uniforms.u_time.value+=i,r.activeView){case 0:y.update(b);break;case 1:h.update(b);break}v&&v.update(),l.render(u[r.activeView].scene,u[r.activeView].camera)}ne();
