var k=Object.defineProperty;var R=(i,e,t)=>e in i?k(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var a=(i,e,t)=>(R(i,typeof e!="symbol"?e+"":e,t),t);import{S as C,P as G,G as b,T as I,B as E,M as f,a as M,b as F,D as S,A as L,c as V,d as U,R as O,e as $,f as j,g as D,h as H,i as N,j as X,W as Y,k as B,l as q,m as K,V as z,C as Z}from"./vendor.6ff19039.js";const J=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}};J();var Q=`precision mediump float;

uniform float u_time;

varying vec2 UV;

void main(){
	UV = uv;
	vec4 mvPosition = modelViewMatrix*vec4(position,1.);
	mvPosition.y += sin(u_time / 2. + uv.x) * 2.0;
	mvPosition.x += cos(u_time / 1.3 + uv.y) * 2.0;
	gl_Position = projectionMatrix*mvPosition;
}`,ee=`precision mediump float;

uniform vec2 u_resolution;
uniform float u_time;

varying vec2 UV;

void main(void){
	vec2 position = UV * 2. - 1.;
	
	float red = abs( 
		sin(position.x * position.y + u_time / 5.)
	);
	float green = abs( 
		sin(position.x * position.y + u_time / 4.) 
	);
	float blue = abs( 
		sin(position.x * position.y + u_time / 3.) 
	);

	gl_FragColor=vec4(red, green, blue, 1.0);
}`;class A{constructor(e,t){a(this,"scene");a(this,"camera");a(this,"renderer");a(this,"model");this.scene=new C,this.camera=new G(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=t,this.model=e}update(e){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}class te extends A{constructor(e,t){super(e,t);a(this,"group");a(this,"cube");a(this,"plane");a(this,"exampleModel");a(this,"exampleTexture");a(this,"lightAmbient");a(this,"lightPoint");this.exampleModel=new b,this.exampleTexture=new I,this.group=new b,this.scene.add(this.group);const n=new E,o=new f({color:15776699});this.cube=new M(n,o),this.cube.castShadow=!0,this.group.add(this.cube);const l=new F(6,6,10,10),c=new f({color:6710886,side:S,flatShading:!0});this.plane=new M(l,c),this.plane.position.z=-2,this.plane.receiveShadow=!0,this.scene.add(this.plane),this.lightAmbient=new L(3355443),this.scene.add(this.lightAmbient),this.lightPoint=new V(16777215),this.lightPoint.position.set(-.5,.5,4),this.lightPoint.castShadow=!0,this.lightPoint.intensity=.25,this.scene.add(this.lightPoint);const s=1024,u=.5,p=500;this.lightPoint.shadow.mapSize.width=s,this.lightPoint.shadow.mapSize.height=s,this.lightPoint.shadow.camera.near=u,this.lightPoint.shadow.camera.far=p;let x;new U().setPath("../resources/textures/").load("uv_grid_opengl.jpg",w=>{w.wrapS=w.wrapT=O,w.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),this.exampleTexture=w,x=new $({map:w}),this.cube.material=x,new j().setPath("../resources/models/").load("teapot.gltf",W=>{this.exampleModel=W.scene,console.log(this.exampleModel),this.exampleModel.scale.set(.01,.01,.01),this.exampleModel.position.x=2,new f({color:2293538}),this.exampleModel.traverse(g=>{console.log(g),console.log(g.type==="Mesh"),g.type==="Mesh"&&(g.material=x)}),this.group.add(this.exampleModel)})})}update(e){this.cube.rotation.x+=.01,this.cube.rotation.y+=.01,this.group.rotation.set(0,0,this.model.groupAngle),this.group.position.set(this.model.groupX,this.model.groupY,0);const t=this.plane.geometry.attributes.position;for(let n=0;n<t.count;n++)t.setZ(n,Math.sin(e.getElapsedTime()+n-t.count/2)*.5+Math.cos(e.getElapsedTime()-n)*.5);this.plane.geometry.attributes.position.needsUpdate=!0,this.exampleModel!=null&&(this.exampleModel.rotateX(.01),this.exampleModel.rotateY(.01)),this.exampleTexture&&(this.exampleTexture.center.set(.5,.5),this.exampleTexture.rotation+=e.getDelta())}}class ie extends A{constructor(e,t){super(e,t);a(this,"spheres");a(this,"tl");a(this,"lightPoint");a(this,"lightAmbient");this.spheres=[],this.tl=D.timeline();const n=new H(.5);for(let s=0;s<10;s++){const u=new f({color:16777215}),p=new M(n,u);this.tl.to(p.position,{x:Math.cos(s/10*Math.PI*2)*3,y:Math.sin(s/10*Math.PI*2)*3,duration:2,ease:"bounce.out"},`${s/4}`),this.tl.fromTo(p.scale,{x:0,y:0},{x:1,y:1,duration:2,ease:"expo.out"},"<"),this.tl.to(p.material.color,{r:Math.random(),g:Math.random(),b:Math.random(),duration:2},"<"),this.spheres.push(p),this.scene.add(p)}this.tl.addLabel("returnLabel","<"),this.spheres.forEach((s,u)=>{this.tl.to(s.scale,{x:0,y:0,z:0,duration:4},`returnLabel +=${u/4}`),this.tl.to(s.material.color,{r:1,g:1,b:1,duration:4},"<"),this.tl.to(s.position,{x:Math.cos(u/10*Math.PI*2-Math.PI)*3,duration:1,ease:"expo.out"},"<"),this.tl.to(s.position,{y:Math.sin(u/10*-Math.PI*2)*3,duration:2,ease:"sine.out"},"<"),this.tl.to(s.position,{z:Math.sin(s.position.x/3)*3,duration:1,ease:"sine.out"},"<"),this.tl.to(s.position,{z:0,duration:1,ease:"sine.out"})}),this.lightPoint=new V(13421772),this.lightPoint.intensity=.66,this.lightPoint.position.set(-5,3,4);const o=1024,l=.5,c=500;this.lightPoint.shadow.mapSize.width=o,this.lightPoint.shadow.mapSize.height=o,this.lightPoint.shadow.camera.near=l,this.lightPoint.shadow.camera.far=c,this.scene.add(this.lightPoint),this.lightAmbient=new L(16777215),this.lightAmbient.intensity=.2,this.scene.add(this.lightAmbient)}update(e){}}let r={groupX:0,groupY:0,groupAngle:0,activeView:1,pointerPosition:new z(0,0)},d,P=new Z,v,y,h,m=[],T;function oe(){ae(),ne(),se(),re()}function ne(){v=new N,document.body.appendChild(v.dom)}function se(){const i=new X;i.add(r,"groupX",-4,4,.1),i.add(r,"groupY",-3,3,.1),i.add(r,"groupAngle",0,Math.PI*2,.1);let e={position:0,play:()=>{h.tl.play()},pause:()=>{h.tl.pause()},restart:()=>{h.tl.pause(),h.tl.seek(0),h.tl.play()}};const t=i.addFolder("timeline");t.open(),t.add(e,"position",0,8,.01).onChange(n=>{h.tl.pause(),h.tl.seek(n)}),t.add(e,"play"),t.add(e,"pause"),t.add(e,"restart")}function ae(){d=new Y,d.shadowMap.enabled=!0,d.shadowMap.type=B,d.setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(d.domElement),y=new te(r,d),m.push(y),h=new ie(r,d),m.push(h),new q;const i={u_time:{type:"f",value:1},u_resolution:{type:"v2",value:new z(800,800)}};T=new K({uniforms:i,vertexShader:Q,fragmentShader:ee,side:S}),_()}function re(){window.addEventListener("resize",le,!1),window.addEventListener("pointermove",he),window.addEventListener("keydown",i=>{const{key:e}=i;switch(e){case"e":const t=window.open("","Canvas Image"),{domElement:n}=d,o=n.toDataURL();if(!t)return;t.document.write(`<img src='${o}' width='${n.width}' height='${n.height}'>`);break;case"ArrowRight":r.activeView=(r.activeView+1)%m.length;break;case"ArrowLeft":r.activeView=r.activeView-1,r.activeView<0&&(r.activeView=m.length-1);break}})}function le(){y.onWindowResize(),h.onWindowResize()}function he(i){r.pointerPosition.x=i.clientX/window.innerWidth*2-1,r.pointerPosition.y=-(i.clientY/window.innerHeight)*2+1}function _(){requestAnimationFrame(()=>{_()});let i=P.getDelta();switch(T.uniforms.u_time.value+=i,r.activeView){case 0:y.update(P);break;case 1:h.update(P);break}v&&v.update(),d.render(m[r.activeView].scene,m[r.activeView].camera)}oe();
